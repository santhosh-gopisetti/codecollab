{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SANTHOSH\\\\codecollab\\\\client\\\\src\\\\CodeEditor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CodeEditor = ({\n  roomId,\n  username\n}) => {\n  _s();\n  const [code, setCode] = useState('// Start typing...');\n  const [messages, setMessages] = useState([]);\n  const socketRef = useRef(null);\n  const handleChange = value => {\n    setCode(value);\n    if (socketRef.current) {\n      socketRef.current.emit('send_code', {\n        roomId,\n        code: value\n      });\n    }\n  };\n  useEffect(() => {\n    const socket = io('http://localhost:4000');\n    socketRef.current = socket;\n    socket.on('connect', () => {\n      socket.emit('join_room', roomId);\n      socket.emit('join_user', {\n        roomId,\n        username\n      });\n    });\n    socket.on('receive_code', data => {\n      if (data !== code) {\n        setCode(data);\n      }\n    });\n    socket.on('user_joined', name => {\n      setMessages(prev => [...prev, `${name} joined the room.`]);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [roomId]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '10px',\n        background: '#e5e7eb'\n      },\n      children: messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '14px'\n        },\n        children: msg\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Editor, {\n      height: \"80vh\",\n      language: \"javascript\",\n      theme: \"light\",\n      value: code,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(CodeEditor, \"B6F8tZhShdgTmMyqChNOT04CK2A=\");\n_c = CodeEditor;\nexport default CodeEditor;\nvar _c;\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Editor","io","jsxDEV","_jsxDEV","Fragment","_Fragment","CodeEditor","roomId","username","_s","code","setCode","messages","setMessages","socketRef","handleChange","value","current","emit","socket","on","data","name","prev","disconnect","children","style","padding","background","map","msg","i","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","height","language","theme","onChange","_c","$RefreshReg$"],"sources":["C:/Users/SANTHOSH/codecollab/client/src/CodeEditor.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport Editor from '@monaco-editor/react';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst CodeEditor = ({ roomId, username }) => {\r\n  const [code, setCode] = useState('// Start typing...');\r\n  const [messages, setMessages] = useState([]);\r\n  const socketRef = useRef(null);\r\n\r\n  const handleChange = (value) => {\r\n    setCode(value);\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('send_code', { roomId, code: value });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const socket = io('http://localhost:4000');\r\n    socketRef.current = socket;\r\n\r\n    socket.on('connect', () => {\r\n      socket.emit('join_room', roomId);\r\n      socket.emit('join_user', { roomId, username });\r\n    });\r\n\r\n    socket.on('receive_code', (data) => {\r\n      if (data !== code) {\r\n        setCode(data);\r\n      }\r\n    });\r\n\r\n    socket.on('user_joined', (name) => {\r\n      setMessages(prev => [...prev, `${name} joined the room.`]);\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [roomId]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ padding: '10px', background: '#e5e7eb' }}>\r\n        {messages.map((msg, i) => (\r\n          <div key={i} style={{ fontSize: '14px' }}>{msg}</div>\r\n        ))}\r\n      </div>\r\n      <Editor\r\n        height=\"80vh\"\r\n        language=\"javascript\"\r\n        theme=\"light\"\r\n        value={code}\r\n        onChange={handleChange}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CodeEditor;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,EAAE,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtC,MAAMC,UAAU,GAAGA,CAAC;EAAEC,MAAM;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,oBAAoB,CAAC;EACtD,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMgB,SAAS,GAAGf,MAAM,CAAC,IAAI,CAAC;EAE9B,MAAMgB,YAAY,GAAIC,KAAK,IAAK;IAC9BL,OAAO,CAACK,KAAK,CAAC;IACd,IAAIF,SAAS,CAACG,OAAO,EAAE;MACrBH,SAAS,CAACG,OAAO,CAACC,IAAI,CAAC,WAAW,EAAE;QAAEX,MAAM;QAAEG,IAAI,EAAEM;MAAM,CAAC,CAAC;IAC9D;EACF,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACd,MAAMsB,MAAM,GAAGlB,EAAE,CAAC,uBAAuB,CAAC;IAC1Ca,SAAS,CAACG,OAAO,GAAGE,MAAM;IAE1BA,MAAM,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBD,MAAM,CAACD,IAAI,CAAC,WAAW,EAAEX,MAAM,CAAC;MAChCY,MAAM,CAACD,IAAI,CAAC,WAAW,EAAE;QAAEX,MAAM;QAAEC;MAAS,CAAC,CAAC;IAChD,CAAC,CAAC;IAEFW,MAAM,CAACC,EAAE,CAAC,cAAc,EAAGC,IAAI,IAAK;MAClC,IAAIA,IAAI,KAAKX,IAAI,EAAE;QACjBC,OAAO,CAACU,IAAI,CAAC;MACf;IACF,CAAC,CAAC;IAEFF,MAAM,CAACC,EAAE,CAAC,aAAa,EAAGE,IAAI,IAAK;MACjCT,WAAW,CAACU,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE,GAAGD,IAAI,mBAAmB,CAAC,CAAC;IAC5D,CAAC,CAAC;IAEF,OAAO,MAAM;MACXH,MAAM,CAACK,UAAU,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,CAACjB,MAAM,CAAC,CAAC;EAEZ,oBACEJ,OAAA,CAAAE,SAAA;IAAAoB,QAAA,gBACEtB,OAAA;MAAKuB,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,UAAU,EAAE;MAAU,CAAE;MAAAH,QAAA,EACpDb,QAAQ,CAACiB,GAAG,CAAC,CAACC,GAAG,EAAEC,CAAC,kBACnB5B,OAAA;QAAauB,KAAK,EAAE;UAAEM,QAAQ,EAAE;QAAO,CAAE;QAAAP,QAAA,EAAEK;MAAG,GAApCC,CAAC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAyC,CACrD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACNjC,OAAA,CAACH,MAAM;MACLqC,MAAM,EAAC,MAAM;MACbC,QAAQ,EAAC,YAAY;MACrBC,KAAK,EAAC,OAAO;MACbvB,KAAK,EAAEN,IAAK;MACZ8B,QAAQ,EAAEzB;IAAa;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;AAAC3B,EAAA,CApDIH,UAAU;AAAAmC,EAAA,GAAVnC,UAAU;AAsDhB,eAAeA,UAAU;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}