{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import Editor from'@monaco-editor/react';import{io}from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CodeEditor=_ref=>{let{roomId,username}=_ref;const[code,setCode]=useState('// Start typing...');const[messages,setMessages]=useState([]);const socketRef=useRef(null);const handleChange=value=>{setCode(value);if(socketRef.current){socketRef.current.emit('send_code',{roomId,code:value});}};useEffect(()=>{const socket=io('http://localhost:4000');socketRef.current=socket;socket.on('connect',()=>{socket.emit('join_room',roomId);socket.emit('join_user',{roomId,username});});socket.on('receive_code',data=>{if(data!==code){setCode(data);}});socket.on('user_left',name=>{setMessages(prev=>[...prev,\"\".concat(name,\" left the room.\")]);});socket.on('user_joined',name=>{setMessages(prev=>[...prev,\"\".concat(name,\" joined the room.\")]);});return()=>{socket.disconnect();};},[roomId]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(Editor,{height:\"100vh\",language:\"cpp\",theme:\"light\",value:code,onChange:handleChange})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'250px',backgroundColor:'#f9fafb',borderLeft:'1px solid #e5e7eb',padding:'10px',overflowY:'auto',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#2563eb'},children:\"Room Activity\"}),messages.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280'},children:\"No activity yet\"}):messages.map((msg,i)=>/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDD14 \",msg]},i))]})]});};export default CodeEditor;","map":{"version":3,"names":["React","useEffect","useState","useRef","Editor","io","jsx","_jsx","jsxs","_jsxs","CodeEditor","_ref","roomId","username","code","setCode","messages","setMessages","socketRef","handleChange","value","current","emit","socket","on","data","name","prev","concat","disconnect","style","display","flex","children","height","language","theme","onChange","width","backgroundColor","borderLeft","padding","overflowY","fontSize","color","length","map","msg","i"],"sources":["C:/Users/SANTHOSH/codecollab/client/src/CodeEditor.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport Editor from '@monaco-editor/react';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst CodeEditor = ({ roomId, username }) => {\r\n  const [code, setCode] = useState('// Start typing...');\r\n  const [messages, setMessages] = useState([]);\r\n  const socketRef = useRef(null);\r\n\r\n  const handleChange = (value) => {\r\n    setCode(value);\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('send_code', { roomId, code: value });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const socket = io('http://localhost:4000');\r\n    socketRef.current = socket;\r\n\r\n    socket.on('connect', () => {\r\n      socket.emit('join_room', roomId);\r\n      socket.emit('join_user', { roomId, username });\r\n    });\r\n\r\n    socket.on('receive_code', (data) => {\r\n      if (data !== code) {\r\n        setCode(data);\r\n      }\r\n    });\r\n    socket.on('user_left', (name) => {\r\n  setMessages(prev => [...prev, `${name} left the room.`]);\r\n});\r\n\r\n    socket.on('user_joined', (name) => {\r\n      setMessages(prev => [...prev, `${name} joined the room.`]);\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [roomId]);\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flex: 1 }}>\r\n      <div style={{ flex: 1 }}>\r\n        <Editor\r\n          height=\"100vh\"\r\n          language=\"cpp\"\r\n          theme=\"light\"\r\n          value={code}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          width: '250px',\r\n          backgroundColor: '#f9fafb',\r\n          borderLeft: '1px solid #e5e7eb',\r\n          padding: '10px',\r\n          overflowY: 'auto',\r\n          fontSize: '14px'\r\n        }}\r\n      >\r\n        <h3 style={{ color: '#2563eb' }}>Room Activity</h3>\r\n        {messages.length === 0 ? (\r\n          <p style={{ color: '#6b7280' }}>No activity yet</p>\r\n        ) : (\r\n          messages.map((msg, i) => <p key={i}>ðŸ”” {msg}</p>)\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}