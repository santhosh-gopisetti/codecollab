{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SANTHOSH\\\\codecollab\\\\client\\\\src\\\\CodeEditor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CodeEditor = ({\n  roomId,\n  username\n}) => {\n  _s();\n  const [code, setCode] = useState('// Start typing...');\n  const [messages, setMessages] = useState([]);\n  const socketRef = useRef(null);\n  const handleChange = value => {\n    setCode(value);\n    if (socketRef.current) {\n      socketRef.current.emit('send_code', {\n        roomId,\n        code: value\n      });\n    }\n  };\n  useEffect(() => {\n    const socket = io('http://localhost:4000');\n    socketRef.current = socket;\n    socket.on('connect', () => {\n      socket.emit('join_room', roomId);\n      socket.emit('join_user', {\n        roomId,\n        username\n      });\n    });\n    socket.on('receive_code', data => {\n      if (data !== code) {\n        setCode(data);\n      }\n    });\n    socket.on('user_left', name => {\n      setMessages(prev => [...prev, `${name} left the room.`]);\n    });\n    socket.on('user_joined', name => {\n      setMessages(prev => [...prev, `${name} joined the room.`]);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [roomId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flex: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Editor, {\n        height: \"100vh\",\n        language: \"cpp\",\n        theme: \"light\",\n        value: code,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '250px',\n        backgroundColor: '#f9fafb',\n        borderLeft: '1px solid #e5e7eb',\n        padding: '10px',\n        overflowY: 'auto',\n        fontSize: '14px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: '#2563eb'\n        },\n        children: \"Room Activity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#6b7280'\n        },\n        children: \"No activity yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this) : messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83D\\uDD14 \", msg]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 36\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeEditor, \"B6F8tZhShdgTmMyqChNOT04CK2A=\");\n_c = CodeEditor;\nexport default CodeEditor;\nvar _c;\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Editor","io","jsxDEV","_jsxDEV","CodeEditor","roomId","username","_s","code","setCode","messages","setMessages","socketRef","handleChange","value","current","emit","socket","on","data","name","prev","disconnect","style","display","flex","children","height","language","theme","onChange","fileName","_jsxFileName","lineNumber","columnNumber","width","backgroundColor","borderLeft","padding","overflowY","fontSize","color","length","map","msg","i","_c","$RefreshReg$"],"sources":["C:/Users/SANTHOSH/codecollab/client/src/CodeEditor.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport Editor from '@monaco-editor/react';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst CodeEditor = ({ roomId, username }) => {\r\n  const [code, setCode] = useState('// Start typing...');\r\n  const [messages, setMessages] = useState([]);\r\n  const socketRef = useRef(null);\r\n\r\n  const handleChange = (value) => {\r\n    setCode(value);\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('send_code', { roomId, code: value });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const socket = io('http://localhost:4000');\r\n    socketRef.current = socket;\r\n\r\n    socket.on('connect', () => {\r\n      socket.emit('join_room', roomId);\r\n      socket.emit('join_user', { roomId, username });\r\n    });\r\n\r\n    socket.on('receive_code', (data) => {\r\n      if (data !== code) {\r\n        setCode(data);\r\n      }\r\n    });\r\n    socket.on('user_left', (name) => {\r\n  setMessages(prev => [...prev, `${name} left the room.`]);\r\n});\r\n\r\n    socket.on('user_joined', (name) => {\r\n      setMessages(prev => [...prev, `${name} joined the room.`]);\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [roomId]);\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flex: 1 }}>\r\n      <div style={{ flex: 1 }}>\r\n        <Editor\r\n          height=\"100vh\"\r\n          language=\"cpp\"\r\n          theme=\"light\"\r\n          value={code}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          width: '250px',\r\n          backgroundColor: '#f9fafb',\r\n          borderLeft: '1px solid #e5e7eb',\r\n          padding: '10px',\r\n          overflowY: 'auto',\r\n          fontSize: '14px'\r\n        }}\r\n      >\r\n        <h3 style={{ color: '#2563eb' }}>Room Activity</h3>\r\n        {messages.length === 0 ? (\r\n          <p style={{ color: '#6b7280' }}>No activity yet</p>\r\n        ) : (\r\n          messages.map((msg, i) => <p key={i}>ðŸ”” {msg}</p>)\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}