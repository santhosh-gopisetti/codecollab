{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SANTHOSH\\\\codecollab\\\\client\\\\src\\\\CodeEditor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CodeEditor = ({\n  roomId\n}) => {\n  _s();\n  const [code, setCode] = useState('// Start typing...');\n  const socketRef = useRef(null);\n  const handleChange = value => {\n    setCode(value);\n    if (socketRef.current) {\n      console.log(\"âœ‰ï¸ Sending code:\", value);\n      socketRef.current.emit('send_code', {\n        roomId,\n        code: value\n      });\n    }\n  };\n  useEffect(() => {\n    const socket = io('http://localhost:4000');\n    socketRef.current = socket;\n    socket.on('connect', () => {\n      console.log(\"âœ… Connected:\", socket.id);\n      socket.emit('join_room', roomId);\n    });\n    socket.on('receive_code', data => {\n      if (data !== code) {\n        console.log(\"ðŸ“¥ Received code:\", data);\n        setCode(data);\n      }\n    });\n    socket.on('disconnect', () => {\n      console.log(\"âŒ Disconnected\");\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [roomId]);\n  return /*#__PURE__*/_jsxDEV(Editor, {\n    height: \"80vh\",\n    language: \"cpp\",\n    theme: \"light\",\n    value: code,\n    onChange: handleChange\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeEditor, \"DxxbRjmYtQ/eAxQz/wPdLsZaHsA=\");\n_c = CodeEditor;\nexport default CodeEditor;\nvar _c;\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Editor","io","jsxDEV","_jsxDEV","CodeEditor","roomId","_s","code","setCode","socketRef","handleChange","value","current","console","log","emit","socket","on","id","data","disconnect","height","language","theme","onChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/SANTHOSH/codecollab/client/src/CodeEditor.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport Editor from '@monaco-editor/react';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst CodeEditor = ({ roomId }) => {\r\n  const [code, setCode] = useState('// Start typing...');\r\n  const socketRef = useRef(null);\r\n\r\n  const handleChange = (value) => {\r\n    setCode(value);\r\n    if (socketRef.current) {\r\n      console.log(\"âœ‰ï¸ Sending code:\", value);\r\n      socketRef.current.emit('send_code', { roomId, code: value });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const socket = io('http://localhost:4000');\r\n    socketRef.current = socket;\r\n\r\n    socket.on('connect', () => {\r\n      console.log(\"âœ… Connected:\", socket.id);\r\n      socket.emit('join_room', roomId);\r\n    });\r\n\r\n    socket.on('receive_code', (data) => {\r\n      if (data !== code) {\r\n        console.log(\"ðŸ“¥ Received code:\", data);\r\n        setCode(data);\r\n      }\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      console.log(\"âŒ Disconnected\");\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [roomId]);\r\n\r\n  return (\r\n    <Editor\r\n      height=\"80vh\"\r\n      language=\"cpp\"\r\n      theme=\"light\"\r\n      value={code}\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CodeEditor;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,EAAE,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACjC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,oBAAoB,CAAC;EACtD,MAAMW,SAAS,GAAGV,MAAM,CAAC,IAAI,CAAC;EAE9B,MAAMW,YAAY,GAAIC,KAAK,IAAK;IAC9BH,OAAO,CAACG,KAAK,CAAC;IACd,IAAIF,SAAS,CAACG,OAAO,EAAE;MACrBC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEH,KAAK,CAAC;MACtCF,SAAS,CAACG,OAAO,CAACG,IAAI,CAAC,WAAW,EAAE;QAAEV,MAAM;QAAEE,IAAI,EAAEI;MAAM,CAAC,CAAC;IAC9D;EACF,CAAC;EAEDd,SAAS,CAAC,MAAM;IACd,MAAMmB,MAAM,GAAGf,EAAE,CAAC,uBAAuB,CAAC;IAC1CQ,SAAS,CAACG,OAAO,GAAGI,MAAM;IAE1BA,MAAM,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBJ,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEE,MAAM,CAACE,EAAE,CAAC;MACtCF,MAAM,CAACD,IAAI,CAAC,WAAW,EAAEV,MAAM,CAAC;IAClC,CAAC,CAAC;IAEFW,MAAM,CAACC,EAAE,CAAC,cAAc,EAAGE,IAAI,IAAK;MAClC,IAAIA,IAAI,KAAKZ,IAAI,EAAE;QACjBM,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEK,IAAI,CAAC;QACtCX,OAAO,CAACW,IAAI,CAAC;MACf;IACF,CAAC,CAAC;IAEFH,MAAM,CAACC,EAAE,CAAC,YAAY,EAAE,MAAM;MAC5BJ,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC/B,CAAC,CAAC;IAEF,OAAO,MAAM;MACXE,MAAM,CAACI,UAAU,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,CAACf,MAAM,CAAC,CAAC;EAEZ,oBACEF,OAAA,CAACH,MAAM;IACLqB,MAAM,EAAC,MAAM;IACbC,QAAQ,EAAC,KAAK;IACdC,KAAK,EAAC,OAAO;IACbZ,KAAK,EAAEJ,IAAK;IACZiB,QAAQ,EAAEd;EAAa;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxB,CAAC;AAEN,CAAC;AAACtB,EAAA,CA9CIF,UAAU;AAAAyB,EAAA,GAAVzB,UAAU;AAgDhB,eAAeA,UAAU;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}